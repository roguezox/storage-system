# Environment Configuration for Self-Hosted Drive

# ===========================================
# REQUIRED - Core Configuration
# ===========================================

# MongoDB Connection
MONGODB_URI=mongodb://localhost:27017/drive

# JWT Secret (generate a strong random string)
JWT_SECRET=your-super-secret-jwt-key-change-this

# Server Port
PORT=5000

# ===========================================
# STORAGE CONFIGURATION
# ===========================================

# Storage Provider: 'local' (default) or 's3' (for S3/MinIO)
STORAGE_PROVIDER=local

# --- Local Storage Settings ---
# Path where files will be stored (relative or absolute)
STORAGE_PATH=./uploads

# --- S3/MinIO Storage Settings ---
# Only required if STORAGE_PROVIDER=s3

# For MinIO: http://minio:9000 or http://localhost:9000
# For AWS S3: leave empty (uses default AWS endpoints)
S3_ENDPOINT=

# S3 Bucket name
S3_BUCKET=drive

# AWS Region (default: us-east-1)
S3_REGION=us-east-1

# S3 Credentials
S3_ACCESS_KEY=
S3_SECRET_KEY=

# ===========================================
# LOGGING CONFIGURATION (OPTIONAL)
# ===========================================

# Log Level Configuration
# Options: error, warn, info, debug (default: info)
LOG_LEVEL=info

# ===========================================
# KAFKA / CONFLUENT CLOUD CONFIGURATION (OPTIONAL)
# ===========================================

# Enable/disable Kafka logging (set to 'false' to use console-only logging)
# When disabled, logs will only be written to the console
KAFKA_ENABLED=false

# ⚠️ Only required if KAFKA_ENABLED=true
# Confluent Cloud Kafka Bootstrap Servers
# Format: pkc-xxxxx.us-east-1.aws.confluent.cloud:9092
KAFKA_BOOTSTRAP_SERVERS=pkc-xxxxx.us-east-1.aws.confluent.cloud:9092

# Confluent Cloud API Credentials
KAFKA_API_KEY=your-kafka-api-key
KAFKA_API_SECRET=your-kafka-api-secret

# Kafka Topic Configuration
# Base topic name (logs will be sent to ${KAFKA_TOPIC}-critical, ${KAFKA_TOPIC}-info, ${KAFKA_TOPIC}-debug)
KAFKA_TOPIC=storage-system-logs

# ===========================================
# OPTIONAL - Advanced Settings
# ===========================================

# Node environment
NODE_ENV=production

# Max file upload size (in bytes, default: 100MB)
MAX_FILE_SIZE=104857600
